---
import VtbagPanel from './VtbagPanel.astro';
---

<html class="">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="icon"/><title></title>
	<meta name="astro-view-transitions-enabled" content="true" />
</head>
<body>
	<canvas id="canvas"></canvas>
	<iframe id="vtbag-main-frame" src="/"></iframe>
	<div id="divider" class="divider"></div>
	<VtbagPanel />
	<style is:inline>
		:root {
			--vtbag-panel-height: 226px;
			--vtbag-panel-width: 200px;
		}
		#canvas {
			position: absolute;
			top: 0;
			left: 0;
			height: calc(100vh - var(--vtbag-panel-height));
			width: 100vw;
		}
		:root.vtbag-ui-column #canvas {
			width: calc(100vw - var(--vtbag-panel-width));
			height: 100vh;
		}
		:root.vtbag-ui-tl #canvas {
			left: 0;
			top: var(--vtbag-panel-height);
		}
		:root.vtbag-ui-tl :root.vtbag-ui-column #canvas {
			left: var(--vtbag-panel-width);
			top: 0;
		}

		#vtbag-main-frame {
			position: fixed;
			top: 0;
			left: 0;
			width: 100vw;
			height: calc(100vh - var(--vtbag-panel-height));
			border: none;
		}

		:root.vtbag-ui-tl #vtbag-main-frame {
			top: var(--vtbag-panel-height);
		}
		#vtbag-ui-panel {
			position: fixed;
			bottom: 0;
			right: 0;
		}
		:root.vtbag-ui-tl #vtbag-ui-panel {
			bottom: calc(100vh - var(--vtbag-panel-height));
		}
		#vtbag-ui-panel,
		#vtbag-ui-panel ~ button {
			animation: slide-from-bottom 0.5s both;
		}
		:root.vtbag-ui-tl :is(#vtbag-ui-panel, #vtbag-ui-panel ~ button) {
			animation: slide-from-top 0.5s both;
		}

		#divider {
			position: fixed;
			height: 4px;
			width: 100vw;
			right: 0;
			bottom: var(--vtbag-panel-height);
		}
		#divider:hover,
		:root.dragging #divider {
			cursor: ns-resize;
			background-color: darkolivegreen;
		}

		:root.vtbag-ui-tl #divider {
			bottom: calc(100vh - var(--vtbag-panel-height) - 4px);
		}
		:root.vtbag-ui-column {
			#divider:hover,
			:root.dragging #divider {
				cursor: ew-resize;
			}
		}

		:root.vtbag-ui-column {
			#vtbag-main-frame {
				height: 100vh;
				width: calc(100vw - var(--vtbag-panel-width));
			}
			#vtbag-ui-panel,
			#vtbag-ui-panel ~ button {
				animation: slide-from-right 0.5s both;
			}
			#divider {
				width: 4px;
				height: 100vh;
				right: var(--vtbag-panel-width);
				bottom: 0;
			}
		}
		:root.vtbag-ui-tl.vtbag-ui-column {
			#vtbag-ui-panel {
				right: calc(100vw - var(--vtbag-panel-width) - 18px);
				bottom: 0;
			}
			#vtbag-main-frame {
				top: 0;
				left: var(--vtbag-panel-width);
			}
			:is(#vtbag-ui-panel, #vtbag-ui-panel ~ button) {
				animation: slide-from-left 0.5s both;
			}
			#divider {
				right: calc(100vw - var(--vtbag-panel-width) - 20px);
			}
		}
		@keyframes slide-from-bottom {
			from {
				transform: translateY(var(--vtbag-panel-height));
			}
		}
		@keyframes slide-from-right {
			from {
				transform: translateX(var(--vtbag-panel-width));
			}
		}
		@keyframes slide-from-top {
			from {
				transform: translateY(calc(var(--vtbag-panel-height) * -1));
			}
		}
		@keyframes slide-from-left {
			from {
				transform: translateX(calc(var(--vtbag-panel-width) * -1));
			}
		}
	</style>
</body>
</html>
